<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pricing - Big Beautiful Screens</title>
    <link rel="icon" type="image/png" href="/static/logo.png">
    <link rel="stylesheet" href="/static/admin.css">
    {% if clerk_publishable_key %}
    <script
        data-clerk-publishable-key="{{ clerk_publishable_key }}"
        src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
        async
    ></script>
    {% endif %}
    <script async src="https://js.stripe.com/v3/pricing-table.js"></script>
    <style>
        .pricing-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        .pricing-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .pricing-header h1 {
            margin: 0 0 0.5rem 0;
        }
        .pricing-header p {
            color: #888;
            margin: 0;
        }
        .back-link {
            display: inline-block;
            margin-bottom: 1.5rem;
            color: #4a69bd;
            text-decoration: none;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        stripe-pricing-table {
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="pricing-container">
        <a href="/admin/usage" class="back-link">&larr; Back to Usage & Billing</a>

        <div class="pricing-header">
            <h1>Choose Your Plan</h1>
            <p>Select the plan that best fits your needs</p>
        </div>

        <stripe-pricing-table
            pricing-table-id="{{ stripe_pricing_table_id }}"
            publishable-key="{{ stripe_publishable_key }}"
            {% if user_email %}customer-email="{{ user_email }}"{% endif %}
        ></stripe-pricing-table>
    </div>

    <script>
        async function signOut() {
            if (typeof Clerk !== 'undefined' && Clerk.loaded) {
                await Clerk.signOut();
            }
            window.location.href = '/auth/logout';
        }
    </script>
</body>
</html>
